<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      form {
        width: 200px;
        height: 300px;
        border: 1px solid #ccc;
      }
      input {
        margin: 8px;
      }
    </style>
  </head>
  <body>
    <form id="form">
      <input id="id" type="text" name="id" placeholder="아이디" /> <br />
      <span style="color: red; display: none">최소 8자 이상 입력해주세요</span>

      <input id="name" type="text" name="name" placeholder="이름" /><br />
      <span style="color: red; display: none"
        >최소 2글자 이상 입력해주세요</span
      >
      <br />

      <input
        id="age"
        type="number"
        name="age"
        placeholder="나이"
        maxlength="2"
      /><br />
      <select id="select" name="select">
        <option value="1">선택</option>
        <option>남</option>
        <option>여</option>
      </select>
      <br />
      <input id="address" type="text" name="address" placeholder="주소" /><br />
      <input id="checkbox" type="checkbox" name="checkbox" />
      <span>개인정보 정책 동의</span>
      <button id="submit" type="button" name="submit">submit</button>
    </form>
    <script>
      "use stirct";
      document.querySelector("#id").addEventListener("input", (event) => {
        console.log("#id input event", event);
        const errorMessage = event.target.nextElementSibling.nextElementSibling;
        const value = event.target.value;
        console.log("#id input value", value);

        document.querySelector("#id").addEventListener("change", (event) => {
          console.log("#id change event", event);
        });

        document
          .querySelector("#checkbox")
          .addEventListener("checkbox", (event) => {
            const checked = event.target.checked;
            console.log("#checkbox current checked", checked);
            const checkedMessage =
              event.target.nextElementSibling.nextElementSibling;

            checkedMessage.textContent = checked ? "선택됨" : "선택안됨";
          });

        document.querySelector("#submit").addEventListener("click", () => {
          console.log("submit");
          alert("가입완료");
          const from = document.querySelector("#from");

          const formData = new FormData(from);
          console.log("from Data", Object.fromEntries(formData));
          const formObj = Object.fromEntries(formData);
        });

        if (formObj.id.length < 8) {
          alert("아이디를 8자 이상으로 입력해주세요.");
          return;
        }
        if (formObj.name.length < 2) {
          alert("이름을 2글자 이상으로 입력해주세요.");
          return;
        }
        if (!formObj.age || formObj.age < 1) {
          alert("나이를 입력해주세요.");
          return;
        }
        if (formObj.select === "1") {
          alert("성별을 선택해주세요.");
          return;
        }
        if (!formObj.checkbox) {
          alert("개인정보 정책에 동의해주세요.");
          return;
        }
      });

      // 과제
      // 고객 가입 폼 만들기
      // 필요한 속성
      // 고객 아이디 , 고객 이름 , 고객 나이(input type: number) , 고객 성별,고객 주소,개인보호 정책 동의(chckebox)
      // 구현요건
      // 아이디는 최소 8자 이상

      // 이름도 최소 2글자 이상
      // 성별, 나이는 무관
      // 개인정보 정책동의는 반드시 체크되야함
      // submit 버튼을 눌렸을 때 위의 validation을 다 통과시킨 이후에만 '가입완료'라는 alert을 띄운다
    </script>
  </body>
</html>
